<style>
  body {
    padding: 5em;
    background: #666;
  }

  mat-card {
    margin: 3em;
    width:80%;
  }

  .pathGroup{
    display:flex;
    position:relative;  
  }

  .segId{
    padding: 3px;
  }
</style>

<!-- Toolbar -->
<div class="mat-content-container" role="main">
  <mat-toolbar color="primary">
    <span>Orb Calculator</span>
  </mat-toolbar>
  <!-- Resources -->

  <div class="mat-card-container">
    <mat-card>

      <mat-card-title>Parameters</mat-card-title>
      <mat-card-content>
        <form>
          <mat-form-field appearance="fill">
            <mat-label>Starting node</mat-label>
            <input matInput type="number" [(ngModel)]="startingNode" name="startingNode">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Maximum attempts</mat-label>
            <input matInput type="number" [(ngModel)]="maxAttempts" name="maxAttempts">
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-divider inset></mat-divider>
      <mat-card-actions *ngIf="!generating">
        <button mat-button (click)="findSolution()">GENERATE AND EVALUATE</button>
      </mat-card-actions>
      <mat-card-footer>
        {{attempts}} patterns evalaluated.
        <mat-progress-bar *ngIf="generating == true" mode="indeterminate"></mat-progress-bar>
      </mat-card-footer>
    </mat-card>

    <mat-card>
      <mat-card-title>Best effort</mat-card-title>
      <mat-list role="list">
        <mat-list-item role="listitem" *ngFor="let channelNumber of [0,1,2,3]">
          <mat-label color="accent">Channel {{ channelNumber }}</mat-label><div class="pathGroup"><div class="segId" *ngFor="let segmentIndex of orb.bestPath[channelNumber]">{{segmentIndex}}</div></div>
        </mat-list-item>
      </mat-list>
      <mat-card-footer>
        <mat-label>Total lit segments:</mat-label> {{maxLit}}/{{orb.segments.length}}
        <mat-progress-bar *ngIf="generating == true" mode="determinate" [value]="(maxLit / orb.segments.length * 100)">
        </mat-progress-bar>
        <mat-label>{{allLit ? "Huzzah!" : "Not there yet."}}</mat-label>
      </mat-card-footer>
    </mat-card>
  </div>
</div>